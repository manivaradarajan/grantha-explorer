# Data Directory

This directory contains the source data files and build-time generated files for the Upanishad Explorer application.

## Source Files (Edit These)

These files are the source of truth and should be edited as needed:

- **`granthas-meta.json`** - Metadata for all granthas (titles, abbreviations)
- **`granthas-order.json`** - Display order for granthas in the UI
- **`library/*.json`** - Individual grantha text files with verses and commentary

## Generated Files (Do Not Edit)

The `generated/` subdirectory contains automatically generated files:

- **`generated/granthas.json`** - Auto-generated list of available granthas
  - Generated by: `scripts/generate-granthas-json.ts`
  - Generated during: Every build (prebuild step)
  - **DO NOT EDIT** - Your changes will be overwritten on next build
  - **NOT IN GIT** - The entire `generated/` directory is ignored by .gitignore

## How It Works

When you run `npm run build` or `npm run build:local`:

1. The prebuild script (`scripts/generate-granthas-json.ts`) runs automatically
2. It reads:
   - `granthas-meta.json` for metadata
   - `granthas-order.json` for ordering
   - `library/` directory for available files
3. It generates `generated/granthas.json` with the complete list
4. Next.js copies everything from `public/data/` to `out/data/` during build

## Adding a New Grantha

1. Add the grantha JSON file to `library/`
2. Add its metadata to `granthas-meta.json`
3. (Optional) Add to `granthas-order.json` for custom ordering
4. Run `npm run build` - the new grantha will be automatically included

No manual updates to `granthas.json` needed!
